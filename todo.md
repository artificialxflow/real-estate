# سیستم اتوماسیون بنگاه معاملات ملکی - چک لیست پروژه

## 📊 وضعیت فعلی پروژه (آپدیت شده)

### ✅ تکمیل شده
- **Frontend کامل**: تمام صفحات اصلی با Bootstrap 5 RTL
- **Layout و Navigation**: سیستم ناوبری کامل
- **صفحات اصلی**: داشبورد، مشتریان، املاک، ورک‌فلوها، گزارش‌ها، آگهی‌ها
- **UI/UX**: طراحی مدرن، ریسپانسیو، RTL
- **فرم‌ها**: فرم‌های کامل برای افزودن/ویرایش
- **فیلتر و جستجو**: در تمام صفحات
- **ورک‌فلوهای تفصیلی**: توضیحات کامل هر ورک‌فلو با جزئیات فنی
- **مودال توضیحات**: امکان مشاهده توضیحات کامل ورک‌فلوها در مودال
- **مستندات**: README کامل

### 🔄 در حال انجام
- **Backend APIs**: نیاز به پیاده‌سازی
- **دیتابیس**: نیاز به راه‌اندازی Prisma
- **احراز هویت**: نیاز به پیاده‌سازی JWT
- **n8n Integration**: نیاز به راه‌اندازی

### ⏳ در انتظار
- **اسکریپینگ**: Puppeteer و scrapers
- **Notifr**: سیستم اعلان‌رسانی
- **Deployment**: راه‌اندازی production

---

## 📋 مراحل کلی پروژه

### مرحله 1: راه‌اندازی محیط توسعه
- [x] ایجاد پروژه Next.js با TypeScript
- [ ] نصب و پیکربندی n8n
- [ ] راه‌اندازی PostgreSQL
- [ ] نصب و پیکربندی Prisma ORM
- [ ] راه‌اندازی Redis برای cache
- [ ] نصب و پیکربندی JWT authentication
- [ ] نصب bcrypt برای hash کردن پسوردها
- [x] نصب Bootstrap 5 و پیکربندی RTL
- [x] نصب SweetAlert2
- [ ] نصب notifr برای notifications

### مرحله 2: طراحی دیتابیس
- [ ] طراحی schema برای جدول کاربران (users)
- [ ] طراحی schema برای جدول مشتریان (customers)
- [ ] طراحی schema برای جدول فایل‌های ملکی (properties)
- [ ] طراحی schema برای جدول آگهی‌ها (listings)
- [ ] طراحی schema برای جدول قراردادها (contracts)
- [ ] طراحی schema برای جدول ورک‌فلوها (workflows)
- [ ] طراحی schema برای جدول لاگ‌ها (logs)
- [ ] ایجاد migration های Prisma
- [ ] راه‌اندازی seed data

### مرحله 3: سیستم احراز هویت
- [ ] ایجاد API endpoint برای ثبت‌نام
- [ ] ایجاد API endpoint برای ورود
- [ ] پیاده‌سازی JWT middleware
- [ ] ایجاد middleware برای محافظت از routes
- [ ] پیاده‌سازی refresh token
- [x] ایجاد صفحه ورود (Login)
- [ ] ایجاد صفحه ثبت‌نام (Register)
- [ ] پیاده‌سازی logout functionality

### مرحله 4: ماژول مدیریت مشتریان (CRM)
- [ ] ایجاد API برای ثبت مشتری جدید
- [ ] ایجاد API برای ویرایش اطلاعات مشتری
- [ ] ایجاد API برای حذف مشتری
- [ ] ایجاد API برای لیست مشتریان
- [ ] ایجاد API برای جستجوی مشتریان
- [x] ایجاد فرم ثبت مشتری
- [x] ایجاد صفحه لیست مشتریان
- [ ] ایجاد صفحه جزئیات مشتری
- [x] پیاده‌سازی فیلتر و جستجو

### مرحله 5: ماژول مدیریت فایل‌های ملکی
- [ ] ایجاد API برای ثبت فایل جدید
- [ ] ایجاد API برای ویرایش فایل
- [ ] ایجاد API برای حذف فایل
- [ ] ایجاد API برای لیست فایل‌ها
- [ ] ایجاد API برای جستجوی فایل‌ها
- [x] ایجاد فرم ثبت فایل
- [x] ایجاد صفحه لیست فایل‌ها
- [ ] ایجاد صفحه جزئیات فایل
- [ ] پیاده‌سازی آپلود تصاویر
- [x] پیاده‌سازی فیلتر بر اساس نوع ملک، قیمت، منطقه

### مرحله 6: سیستم اسکریپینگ آگهی‌ها
- [ ] نصب و پیکربندی Puppeteer
- [ ] ایجاد scraper برای دیوار
- [ ] ایجاد scraper برای شیپور
- [ ] پیاده‌سازی سیستم تشخیص آگهی‌های تکراری
- [ ] ایجاد API برای اجرای دستی اسکریپینگ
- [x] ایجاد API برای مشاهده آگهی‌های اسکریپ شده
- [ ] پیاده‌سازی سیستم cache برای جلوگیری از اسکریپینگ مکرر
- [ ] ایجاد لاگ برای عملیات اسکریپینگ

### مرحله 7: ورک‌فلوهای n8n
- [ ] راه‌اندازی n8n instance
- [ ] ایجاد ورک‌فلو اسکریپینگ دیوار
- [ ] ایجاد ورک‌فلو اسکریپینگ شیپور
- [ ] ایجاد ورک‌فلو ثبت فایل جدید
- [ ] ایجاد ورک‌فلو مچ کردن ملک با مشتری
- [ ] ایجاد ورک‌فلو ارسال پیام به مشتریان
- [ ] ایجاد ورک‌فلو یادآوری قرارها
- [ ] ایجاد ورک‌فلو گزارش‌گیری روزانه
- [ ] ایجاد ورک‌فلو گزارش‌گیری هفتگی
- [ ] پیکربندی webhook ها برای ارتباط با Next.js

### مرحله 8: سیستم اطلاع‌رسانی
- [ ] نصب و پیکربندی SMS Gateway
- [ ] نصب و پیکربندی WhatsApp API
- [ ] ایجاد API برای ارسال SMS
- [ ] ایجاد API برای ارسال پیام واتساپ
- [ ] ایجاد API برای ارسال ایمیل
- [ ] پیاده‌سازی template های پیام
- [ ] ایجاد سیستم queue برای ارسال پیام‌ها
- [ ] پیاده‌سازی retry mechanism

### مرحله 9: داشبورد مدیریتی
- [x] ایجاد layout اصلی با Bootstrap 5 RTL
- [x] ایجاد sidebar navigation
- [x] ایجاد صفحه dashboard اصلی
- [x] ایجاد صفحه نمایش لیست ورک‌فلوها
- [ ] ایجاد صفحه جزئیات هر ورک‌فلو
- [ ] پیاده‌سازی real-time updates
- [ ] ایجاد charts برای آمارها
- [x] پیاده‌سازی فیلتر و جستجو در ورک‌فلوها

### مرحله 10: سیستم گزارش‌گیری
- [ ] ایجاد API برای گزارش مشتریان جدید
- [ ] ایجاد API برای گزارش فایل‌های جدید
- [ ] ایجاد API برای گزارش قراردادهای بسته شده
- [ ] ایجاد API برای گزارش عملکرد ورک‌فلوها
- [x] ایجاد صفحه گزارش‌گیری
- [ ] پیاده‌سازی export به Excel/PDF
- [x] ایجاد فیلترهای تاریخ و نوع گزارش

### مرحله 11: رابط کاربری و UX
- [x] طراحی UI/UX با Bootstrap 5
- [x] پیاده‌سازی RTL layout
- [x] اضافه کردن SweetAlert2 برای confirmations
- [ ] پیاده‌سازی notifr برای notifications
- [x] ایجاد loading states
- [x] پیاده‌سازی error handling
- [x] ایجاد responsive design
- [x] اضافه کردن animations و transitions

### مرحله 12: تست و بهینه‌سازی
- [ ] نوشتن unit tests
- [ ] نوشتن integration tests
- [ ] تست عملکرد اسکریپینگ
- [ ] تست عملکرد ورک‌فلوها
- [ ] بهینه‌سازی queries دیتابیس
- [ ] بهینه‌سازی performance
- [ ] تست امنیت
- [ ] تست responsive design

### مرحله 13: مستندسازی
- [x] نوشتن README.md
- [ ] مستندسازی API endpoints
- [ ] مستندسازی ورک‌فلوهای n8n
- [ ] ایجاد user manual
- [ ] ایجاد developer guide
- [ ] مستندسازی deployment

### مرحله 14: Deployment
- [ ] راه‌اندازی production server
- [ ] پیکربندی nginx
- [ ] راه‌اندازی SSL certificate
- [ ] پیکربندی environment variables
- [ ] راه‌اندازی monitoring
- [ ] راه‌اندازی backup system
- [ ] تست production environment

## 🛠️ تکنولوژی‌های مورد استفاده

### Frontend
- Next.js 14+ با TypeScript
- Bootstrap 5 با RTL support
- SweetAlert2
- notifr
- React Query برای state management
- Chart.js برای نمودارها

### Backend
- Next.js API Routes
- Prisma ORM
- PostgreSQL
- Redis
- JWT authentication
- bcrypt

### Automation
- n8n
- Puppeteer برای web scraping
- Webhook integrations

### Notifications
- SMS Gateway
- WhatsApp Business API
- Email service (SendGrid/Nodemailer)

### Infrastructure
- Docker
- Nginx
- PM2 برای process management

## 📝 نکات مهم

1. **امنیت**: تمام API ها باید با JWT محافظت شوند
2. **Performance**: استفاده از Redis برای cache
3. **Scalability**: طراحی modular برای قابلیت توسعه
4. **Monitoring**: پیاده‌سازی logging و monitoring
5. **Backup**: راه‌اندازی سیستم backup منظم
6. **RTL Support**: تمام UI باید از راست به چپ پشتیبانی کند
7. **Persian Language**: تمام متن‌ها باید فارسی باشند

## 🎯 اولویت‌بندی

### فاز 1 (هفته 1-2)
- راه‌اندازی محیط توسعه
- طراحی دیتابیس
- سیستم احراز هویت

### فاز 2 (هفته 3-4)
- ماژول CRM
- ماژول مدیریت فایل‌ها
- رابط کاربری اصلی

### فاز 3 (هفته 5-6)
- سیستم اسکریپینگ
- ورک‌فلوهای n8n
- سیستم اطلاع‌رسانی

### فاز 4 (هفته 7-8)
- داشبورد مدیریتی
- سیستم گزارش‌گیری
- تست و بهینه‌سازی

### فاز 5 (هفته 9-10)
- مستندسازی
- Deployment
- تست نهایی

---

# پرامپت جامع طراحی فرانت‌اند سیستم اتوماسیون بنگاه معاملات ملکی

##  مشخصات کلی طراحی

### موضوع پروژه
یک سیستم مدیریت و اتوماسیون کامل برای بنگاه معاملات ملکی با قابلیت‌های پیشرفته CRM، مدیریت فایل‌های ملکی، اسکریپینگ خودکار آگهی‌ها، و داشبورد مدیریتی.

### تکنولوژی‌های مورد استفاده
- **Framework**: Next.js 14+ با TypeScript
- **UI Library**: Bootstrap 5 با پشتیبانی کامل RTL
- **Language**: فارسی (راست به چپ)
- **Notifications**: SweetAlert2 + notifr
- **Charts**: Chart.js
- **Icons**: Bootstrap Icons + Font Awesome

## ️ ساختار صفحات اصلی

### 1. صفحه ورود (Login)
```
- هدر ساده با لوگو شرکت
- کارت مرکزی با فرم ورود
- فیلدهای: ایمیل/شماره موبایل، رمز عبور
- دکمه "ورود" و "فراموشی رمز عبور"

- لینک "ثبت‌نام جدید"
- پس‌زمینه: گرادیانت آبی-سفید یا تصویر ملک
- رنگ‌بندی: آبی (#007bff) و سفید
```

### 2. داشبورد اصلی (Dashboard)
```
- Sidebar راست با منوی ناوبری
- هدر بالا با نام کاربر، اعلان‌ها، و منوی کاربر
- محتوای اصلی با کارت‌های آماری
- نمودارهای تعاملی
- جدول آخرین فعالیت‌ها
- رنگ‌بندی: آبی (#007bff)، سبز (#28a745)، نارنجی (#fd7e14)
```

### 3. مدیریت مشتریان (CRM)
```
- جدول مشتریان با فیلتر و جستجو
- دکمه "مشتری جدید" در بالا
- کارت‌های اطلاعات مشتری
- فرم‌های اضافه/ویرایش مشتری
- تب‌های: لیست، جزئیات، تاریخچه
- رنگ‌بندی: آبی (#007bff) و خاکستری (#6c757d)
```

### 4. مدیریت فایل‌های ملکی
```
- فیلترهای پیشرفته (نوع ملک، قیمت، منطقه)
- کارت‌های نمایش ملک با تصاویر
- دکمه‌های عملیات (ویرایش، حذف، مشاهده)
- فرم ثبت فایل جدید
- گالری تصاویر
- رنگ‌بندی: سبز (#28a745) و آبی (#007bff)
```

### 5. آگهی‌های اسکریپ شده
```
- جدول آگهی‌ها از دیوار و شیپور
- نشان‌های منبع (دیوار/شیپور)
- دکمه‌های عملیات (ذخیره، حذف، مشاهده)
- فیلتر بر اساس منبع و تاریخ
- رنگ‌بندی: بنفش (#6f42c1) و صورتی (#e83e8c)
```

### 6. ورک‌فلوهای n8n
```
- لیست ورک‌فلوها با وضعیت اجرا
- نشان‌های وضعیت (فعال، غیرفعال، خطا)
- دکمه‌های کنترل (اجرا، توقف، ویرایش)
- نمودار اجراها
- رنگ‌بندی: نارنجی (#fd7e14) و قرمز (#dc3545)
```

### 7. گزارش‌گیری
```
- فیلترهای تاریخ و نوع گزارش
- نمودارهای تعاملی
- جداول داده‌ها
- دکمه‌های export (Excel, PDF)
- رنگ‌بندی: سبز (#28a745) و آبی (#007bff)
```

##  راهنمای طراحی بصری

### رنگ‌بندی اصلی
```css
Primary: #007bff (آبی)
Secondary: #6c757d (خاکستری)
Success: #28a745 (سبز)
Warning: #ffc107 (زرد)
Danger: #dc3545 (قرمز)
Info: #17a2b8 (آبی روشن)
Light: #f8f9fa (سفید روشن)
Dark: #343a40 (تیره)
```

### تایپوگرافی
```css
Font Family: 'Vazir', 'Tahoma', sans-serif
Headings: 24px, 20px, 18px, 16px
Body: 14px
Small: 12px
Line Height: 1.6
```

### فاصله‌گذاری
```css
Padding: 15px, 20px, 30px
Margin: 10px, 15px, 20px, 30px
Border Radius: 8px, 12px
Box Shadow: 0 2px 10px rgba(0,0,0,0.1)
```

## 📱 طراحی ریسپانسیو

### Breakpoints
```css
Mobile: < 768px
Tablet: 768px - 1024px
Desktop: > 1024px
```

### Mobile Design
- منوی همبرگری در بالا
- کارت‌های عمودی
- دکمه‌های بزرگ برای لمس
- فونت‌های بزرگ‌تر

### Tablet Design
- Sidebar جمع‌شو
- کارت‌های 2 ستونه
- منوی کشویی

### Desktop Design
- Sidebar ثابت
- کارت‌های 3-4 ستونه
- منوی کامل

## 🧩 کامپوننت‌های قابل استفاده مجدد

### 1. کارت آماری (Stats Card)
```
- آیکون رنگی
- عدد بزرگ
- عنوان
- درصد تغییر
- رنگ پس‌زمینه
```

### 2. جدول داده (Data Table)
```
- هدر با فیلتر
- ردیف‌های متناوب
- دکمه‌های عملیات
- Pagination
- جستجو
```

### 3. فرم (Form)
```
- فیلدهای گروه‌بندی شده
- اعتبارسنجی real-time
- دکمه‌های عملیات
- پیام‌های خطا
```

### 4. مودال (Modal)
```
- هدر با عنوان
- محتوای قابل اسکرول
- دکمه‌های عملیات
- پس‌زمینه تیره
```

### 5. نوتفیکیشن (Notification)
```
- آیکون وضعیت
- پیام
- دکمه بستن
- انیمیشن
```

##  ویژگی‌های خاص

### RTL Support
- تمام المان‌ها راست‌چین
- آیکون‌ها در سمت راست
- منوها از راست شروع می‌شوند
- فاصله‌گذاری مناسب

### Accessibility
- کنتراست مناسب
- فونت‌های خوانا
- دکمه‌های بزرگ
- Navigation با کیبورد

### Performance
- تصاویر بهینه شده
- Lazy loading
- Code splitting
- Caching

##  نمودارها و چارت‌ها

### انواع نمودار مورد نیاز
1. **نمودار خطی**: روند فروش در زمان
2. **نمودار دایره‌ای**: توزیع نوع ملک
3. **نمودار میله‌ای**: مقایسه عملکرد
4. **نمودار منطقه‌ای**: آمار مشتریان
5. **Gauge**: وضعیت ورک‌فلوها

### رنگ‌بندی نمودارها
```css
Chart Colors: #007bff, #28a745, #ffc107, #dc3545, #6f42c1, #17a2b8
```

##  المان‌های تعاملی

### انیمیشن‌ها
- Fade in/out
- Slide up/down
- Hover effects
- Loading spinners
- Progress bars

### Micro-interactions
- Hover states
- Click feedback
- Form validation
- Button states
- Loading states

##  نمونه‌های Layout

### Layout اصلی
```
┌─────────────────────────────────────────┐
│ Header (Logo, User Menu, Notifications) │
├─────────┬───────────────────────────────┤
│ Sidebar │ Main Content Area             │
│ (Menu)  │ (Cards, Tables, Charts)       │
│         │                               │
│         │                               │
└─────────┴───────────────────────────────┘
```

### Layout موبایل
```
┌─────────────────────────────────────────┐
│ Header (Logo, Menu Button)              │
├─────────────────────────────────────────┤
│ Main Content (Cards Stack)              │
│                                         │
│                                         │
│                                         │
└─────────────────────────────────────────┘
```

## 🎨 دستورالعمل‌های طراحی

### 1. استفاده از فضای سفید
- فاصله مناسب بین المان‌ها
- گروه‌بندی منطقی
- خوانایی بالا

### 2. سلسله مراتب بصری
- تایپوگرافی سلسله‌مراتبی
- رنگ‌بندی معنادار
- اندازه‌های متناسب

### 3. سازگاری با برند
- لوگوی شرکت
- رنگ‌های برند
- تون صدای مناسب

### 4. کاربرپسندی
- Navigation ساده
- جستجوی آسان
- فیدبک مناسب

## 🚀 ویژگی‌های پیشرفته

### Real-time Updates
- اعلان‌های لحظه‌ای
- به‌روزرسانی خودکار
- وضعیت آنلاین

### Dark Mode
- تم تیره
- تغییر خودکار
- تنظیمات کاربر

### Multi-language
- پشتیبانی فارسی
- RTL کامل
- فونت‌های مناسب

##  چک‌لیست نهایی

- [ ] طراحی RTL کامل
- [ ] ریسپانسیو در تمام سایزها
- [ ] رنگ‌بندی مناسب
- [ ] تایپوگرافی خوانا
- [ ] انیمیشن‌های مناسب
- [ ] دسترسی‌پذیری
- [ ] عملکرد بهینه
- [ ] سازگاری مرورگرها
- [ ] تست کاربری
- [ ] مستندسازی

---

**نکته**: این پرامپت برای استفاده با ابزارهای AI طراحی مانند Midjourney، DALL-E، یا Figma AI آماده شده است. می‌توانید بخش‌های مختلف را جداگانه استفاده کنید یا کل پرامپت را به عنوان راهنمای کامل به کار ببرید.

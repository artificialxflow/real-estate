# سیستم مدیریت بنگاه معاملات ملکی

سیستم جامع مدیریت و اتوماسیون بنگاه معاملات ملکی با قابلیت‌های پیشرفته CRM، مدیریت فایل‌های ملکی، اسکریپینگ خودکار آگهی‌ها، و داشبورد مدیریتی.

## 🚀 ویژگی‌های اصلی

### 📊 داشبورد مدیریتی
- نمایش آمار کلی سیستم
- کارت‌های آماری تعاملی
- جدول آخرین فعالیت‌ها
- پنل وضعیت ورک‌فلوها

### 👥 مدیریت مشتریان (CRM)
- ثبت و مدیریت اطلاعات مشتریان
- جستجو و فیلتر پیشرفته
- مدیریت نیازمندی‌های مشتریان
- تاریخچه تعاملات

### 🏠 مدیریت فایل‌های ملکی
- ثبت فایل‌های ملکی جدید
- آپلود تصاویر
- فیلتر بر اساس نوع، قیمت، منطقه
- مدیریت وضعیت فروش/اجاره

### 🔍 آگهی‌های اسکریپ شده
- جمع‌آوری خودکار از دیوار و شیپور
- مدیریت و بررسی آگهی‌ها
- ذخیره و نادیده گرفتن آگهی‌ها
- فیلتر بر اساس منبع و وضعیت

### ⚙️ مدیریت ورک‌فلوها
- کنترل ورک‌فلوهای n8n
- نمایش وضعیت اجرا
- آمار عملکرد
- مدیریت زمان‌بندی

### 📈 گزارش‌گیری
- گزارش‌های تفصیلی
- نمودارهای تعاملی
- خروجی Excel/PDF
- آمار عملکرد

## 🛠️ تکنولوژی‌های استفاده شده

### Frontend
- **Next.js 15** - فریمورک React
- **TypeScript** - زبان برنامه‌نویسی
- **Bootstrap 5** - فریمورک CSS با پشتیبانی RTL
- **React Icons** - آیکون‌ها
- **Chart.js** - نمودارها
- **SweetAlert2** - اعلان‌ها

### Backend
- **Next.js API Routes** - API های بک‌اند
- **Prisma** - ORM دیتابیس
- **PostgreSQL** - دیتابیس اصلی
- **Redis** - کش
- **JWT** - احراز هویت
- **bcryptjs** - رمزنگاری

### Automation
- **n8n** - اتوماسیون ورک‌فلوها
- **Puppeteer** - وب اسکریپینگ
- **Webhook** - ارتباطات

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها
- Node.js 18+ 
- npm یا yarn
- PostgreSQL
- Redis

### مراحل نصب

1. **کلون کردن پروژه**
```bash
git clone <repository-url>
cd real-estate
```

2. **نصب dependencies**
```bash
npm install --legacy-peer-deps
```

3. **تنظیم متغیرهای محیطی**
```bash
cp .env.example .env.local
```

4. **راه‌اندازی دیتابیس**
```bash
npx prisma migrate dev
npx prisma generate
```

5. **اجرای پروژه**
```bash
npm run dev
```

## 📁 ساختار پروژه

```
real-estate/
├── app/
│   ├── components/          # کامپوننت‌های مشترک
│   │   ├── Layout.tsx
│   │   └── Navigation.tsx
│   ├── customers/           # صفحه مدیریت مشتریان
│   ├── properties/          # صفحه مدیریت فایل‌های ملکی
│   ├── workflows/           # صفحه مدیریت ورک‌فلوها
│   ├── reports/             # صفحه گزارش‌گیری
│   ├── listings/            # صفحه آگهی‌های اسکریپ شده
│   ├── login/               # صفحه ورود
│   ├── globals.css          # استایل‌های全局
│   ├── layout.tsx           # Layout اصلی
│   ├── page.tsx             # صفحه اصلی
│   └── not-found.tsx        # صفحه 404
├── public/                  # فایل‌های استاتیک
├── prisma/                  # Schema دیتابیس
├── package.json
└── README.md
```

## 🎨 طراحی

### ویژگی‌های طراحی
- **RTL Support** - پشتیبانی کامل راست‌چین
- **Responsive** - سازگار با تمام سایزها
- **Persian Language** - زبان فارسی
- **Modern UI** - طراحی مدرن و کاربرپسند
- **Bootstrap 5** - فریمورک CSS قدرتمند

### رنگ‌بندی
- Primary: #007bff (آبی)
- Success: #28a745 (سبز)
- Warning: #ffc107 (زرد)
- Danger: #dc3545 (قرمز)
- Info: #17a2b8 (آبی روشن)

## 📱 صفحات سیستم

### 1. داشبورد اصلی (`/`)
- آمار کلی سیستم
- آخرین فعالیت‌ها
- وضعیت ورک‌فلوها

### 2. مدیریت مشتریان (`/customers`)
- لیست مشتریان
- افزودن/ویرایش مشتری
- جستجو و فیلتر

### 3. مدیریت فایل‌های ملکی (`/properties`)
- لیست فایل‌های ملکی
- افزودن/ویرایش فایل
- آپلود تصاویر

### 4. آگهی‌های اسکریپ شده (`/listings`)
- لیست آگهی‌های اسکریپ شده
- مدیریت آگهی‌ها
- فیلتر بر اساس منبع

### 5. مدیریت ورک‌فلوها (`/workflows`)
- لیست ورک‌فلوها
- کنترل اجرا
- آمار عملکرد

### 6. گزارش‌گیری (`/reports`)
- گزارش‌های تفصیلی
- نمودارها
- خروجی فایل

### 7. ورود (`/login`)
- فرم ورود
- احراز هویت

## 🔧 تنظیمات

### متغیرهای محیطی
```env
DATABASE_URL="postgresql://username:password@localhost:5432/real_estate"
REDIS_URL="redis://localhost:6379"
JWT_SECRET="your-secret-key"
N8N_WEBHOOK_URL="http://localhost:5678/webhook"
```

### تنظیمات n8n
- راه‌اندازی n8n instance
- پیکربندی webhook ها
- ایجاد ورک‌فلوهای اسکریپینگ

## 🚀 Deployment

### Production Build
```bash
npm run build
npm start
```

### Docker
```bash
docker build -t real-estate .
docker run -p 3000:3000 real-estate
```

## 📝 مستندات

- [راهنمای کاربری](docs/user-guide.md)
- [راهنمای توسعه‌دهنده](docs/developer-guide.md)
- [API Documentation](docs/api.md)

## 🤝 مشارکت

1. Fork کنید
2. Branch جدید ایجاد کنید
3. تغییرات را commit کنید
4. Pull Request ارسال کنید

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## 📞 پشتیبانی

برای سوالات و پشتیبانی:
- Email: support@example.com
- GitHub Issues: [اینجا](https://github.com/username/real-estate/issues)

---

**توسعه داده شده با ❤️ برای بنگاه‌های معاملات ملکی**